## EPITECH PROJECT, 2018
## makefile
## File description
## makefile
##

CFLAGS		+=	-W -Wall -Wextra -I include

LDFLAGS		+=	-Llib/my	\
			-lmy

DIRLIB		=	./lib/my

DIR		=	./src

SRC		=	$(DIR)/main.c		\
			$(DIR)/init.c		\
			$(DIR)/args.c		\
			$(DIR)/print.c		\
			$(DIR)/destroy.c

EXEC		=	sandpile

OBJ		=	$(SRC:.c=.o)

all:			$(EXEC)

$(EXEC):		$(OBJ)
			make -C $(DIRLIB)
			$(CC) -o $(EXEC) $(OBJ) $(LDFLAGS) $(CFLAGS)

clean:
			make -C $(DIRLIB) clean
			rm -f $(OBJ)

fclean:			clean
			make -C $(DIRLIB) fclean
			rm -f $(EXEC)

re:			fclean all

